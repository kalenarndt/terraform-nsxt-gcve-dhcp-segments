## Data Lookup Variables ##
variable "tier1" {
  type        = string
  description = "(Required) Name of the Tier1 Router that will be used"
  default     = "Tier1"
}

variable "overlay_tz" {
  type        = string
  description = "(Required) Name of the Overlay Transport Zone that will be used"
  default     = "TZ-OVERLAY"
}

variable "edge_cluster_name" {
  type        = string
  description = "(Optional) Name of the Edge Cluster that will be used for the DHCP Server"
  default     = "edge-cluster"
}

variable "mac_profile_name" {
  type        = string
  description = "(Optional) Name of a custom MAC discovery profile to use (if present)"
  default     = null
}

## Conditional Variables ##

variable "create_dhcp_server" {
  type        = bool
  description = "(Optional) Conditional that creates a DHCP server within the NSX-T environment on the Tier1 Router specified in var.tier1"
  default     = false
}
variable "create_mac_profile" {
  type        = bool
  description = "(Optional) Conditional that creates a MAC Discovery Profile NSX-T environment. Specified in var.mac_discovery_profile"
  default     = false
}


## DHCP Server Variables ##
variable "dhcp_server_name" {
  type        = string
  description = "(Optional) Name of the DHCP server that will be created on the Tier1 router"
}

variable "dhcp_server_lease" {
  type        = number
  description = "(Optional) Default lease associated with the DHCP server that will be created on the Tier1 router"
  default     = 86400
}

variable "dhcp_server_description" {
  type        = string
  description = "(Optional) Description associated with the DHCP server (if one is being created)"
  default     = "DHCP Server provisioned via Terraform"
}

## Segment Variables ##
variable "segments" {
  type = map(object({
    name                = string
    description         = string
    cidr                = string
    dhcp_range          = string
    dhcp_server_address = string
    scope               = optional(string)
    lease_time          = optional(string)
    dns_servers         = list(string)
    tags = optional(map(object({
      tag   = string
      scope = string
    })))
  }))
  description = "(Required) Map containing the configuration for the NSX-T segments that will be created"
}


